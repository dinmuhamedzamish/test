<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–î–ª—è –º–æ–µ–π –ª—é–±–∏–º–æ–π ‚ù§Ô∏è</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;600;700&family=Patrick+Hand&display=swap" rel="stylesheet">
  
  <style>
    /* 
      ===================================
      –ö–ê–ö –ù–ê–°–¢–†–û–ò–¢–¨ –≠–¢–û–¢ –°–ê–ô–¢:
      ===================================
      1. –ü—Ä–æ–∫—Ä—É—Ç–∏ –≤–Ω–∏–∑ –¥–æ —Ç–µ–≥–∞ <script> –∏ –Ω–∞–π–¥–∏ –æ–±—ä–µ–∫—Ç CONFIG
      2. –ó–∞–º–µ–Ω–∏ URL —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π —Å–≤–æ–∏–º–∏ (4 –¥–ª—è –≥–∞–ª–µ—Ä–µ–∏) –∏–ª–∏ –≤—Å—Ç–∞–≤—å base64
      3. –ó–∞–º–µ–Ω–∏ –Ω–∞–∑–≤–∞–Ω–∏—è –ø–µ—Å–µ–Ω –∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ MP3 —Ñ–∞–π–ª—ã
      4. –ó–∞–º–µ–Ω–∏ —Ç–µ–∫—Å—Ç –ø–∏—Å—å–º–∞ —Å–≤–æ–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º
      5. –°–æ—Ö—Ä–∞–Ω–∏ —Ñ–∞–π–ª –∫–∞–∫ index.html –∏ –æ—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ!
    */

    :root {
      --primary: #c44569;
      --primary-dark: #a53553;
      --accent: #d4758a;
      --bg: #fef5f0;
      --card: #ffffff;
      --text: #3d3d3d;
      --text-light: #8b7d77;
      --border: #c44569;
      --shadow: rgba(196, 69, 105, 0.12);
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; margin: 0; font-family: 'Patrick Hand', cursive; background: var(--bg); color: var(--text); -webkit-font-smoothing:antialiased; }

    /* Decorative background */
    body::before {
      content: '';
      position: fixed;
      top: -40%;
      left: -30%;
      width: 160%;
      height: 160%;
      background:
        radial-gradient(circle at 15% 20%, rgba(196,69,105,0.06) 0%, transparent 20%),
        radial-gradient(circle at 85% 80%, rgba(214,117,142,0.05) 0%, transparent 20%);
      z-index: -1;
    }

    .page { display: none; min-height: 100vh; padding: 22px; animation: fadeIn .45s ease both; }
    .page.active { display: flex; flex-direction: column; align-items: stretch; }

    @keyframes fadeIn { from { opacity: 0; transform: translateY(16px) } to { opacity: 1; transform: translateY(0) } }

    /* Landing */
    .landing { justify-content: center; align-items: center; text-align: center; gap: 18px; }
    .landing-icon { font-size: 88px; filter: drop-shadow(0 10px 26px rgba(196,69,105,0.2)); animation: heartbeat 2s infinite; }
    @keyframes heartbeat { 0%,100%{transform:scale(1)} 25%{transform:scale(1.06)} 50%{transform:scale(1.02)} }

    .landing h1 { font-family: 'Caveat', cursive; font-size: 3rem; color: var(--primary); margin: 0; text-shadow: 1px 1px 1px rgba(0,0,0,0.05); }
    .landing-subtitle { color: var(--text-light); font-size: 1.15rem; margin-bottom: 10px; }

    .btn-group { display: flex; gap: 16px; justify-content: center; margin-top: 14px; flex-wrap: wrap; }
    .btn {
      padding: 12px 28px;
      border-radius: 999px;
      border: 3px solid var(--border);
      background: var(--card);
      color: var(--primary);
      font-size: 1.05rem;
      cursor: pointer;
      box-shadow: 0 8px 30px var(--shadow);
      transition: transform .18s ease, box-shadow .18s ease;
    }
    .btn:hover { transform: translateY(-6px); box-shadow: 0 14px 40px var(--shadow); }
    .btn.primary { background: var(--primary); color: #fff; border-color: var(--primary-dark); }

    /* Header/back */
    .header {
      position: relative;
      text-align: center;
      padding: 20px 10px;
    }
    .back-btn {
      position: absolute;
      left: 18px;
      top: 50%;
      transform: translateY(-50%);
      background: var(--card);
      border: 3px solid var(--border);
      color: var(--primary);
      padding: 8px 14px;
      border-radius: 999px;
      cursor: pointer;
      box-shadow: 0 6px 22px var(--shadow);
      font-size: 1.05rem;
    }

    .header h2 { font-family: 'Caveat', cursive; font-size: 2.2rem; color: var(--primary); margin: 0; }

    /* Menu grid */
    .menu-container { display:flex; justify-content:center; align-items:center; padding: 20px 8px; }
    .menu-wrapper { max-width: 820px; width: 100%; }
    .menu-title { font-family: 'Caveat', cursive; font-size: 2.4rem; color: var(--primary); text-align:center; }
    .menu-subtitle { text-align:center; color:var(--text-light); margin-bottom: 18px; }

    .menu-grid { display: grid; grid-template-columns: repeat(2,1fr); gap: 22px; margin-top: 10px; }
    .menu-card {
      border-radius: 24px; padding: 28px; background: var(--card);
      border: 3px solid var(--border); box-shadow: 0 10px 30px var(--shadow);
      display:flex; flex-direction:column; align-items:center; justify-content:center; cursor:pointer; transition: transform .25s ease;
    }
    .menu-card:hover { transform: translateY(-10px) rotate(-1.5deg); }
    .menu-icon { font-size: 44px; margin-bottom: 10px; }
    .menu-label { font-family:'Caveat',cursive; font-size:1.2rem; color:var(--primary); }

    /* Content container */
    .content { max-width: 980px; width:100%; margin: 0 auto; padding: 12px; }

    /* Gallery */
    .gallery-grid { display:grid; grid-template-columns: repeat(2,1fr); gap:18px; margin-top: 18px; }
    .gallery-item { border-radius:20px; overflow:hidden; aspect-ratio: 4/3; border:4px solid var(--border); box-shadow: 0 12px 36px var(--shadow); cursor:pointer; position:relative; }
    .gallery-item img { width:100%; height:100%; object-fit:cover; display:block; }

    /* Modal */
    .modal { display:none; position:fixed; inset:0; align-items:center; justify-content:center; background: rgba(0,0,0,0.92); z-index:999; padding: 20px; }
    .modal.active { display:flex; }
    .modal-inner { max-width: 1000px; width:100%; position:relative; display:flex; align-items:center; justify-content:center; }
    .modal-img { max-width: 100%; max-height: 86vh; border-radius: 18px; border:6px solid white; box-shadow: 0 26px 60px rgba(0,0,0,0.7); display:block; }
    .modal-close, .modal-prev, .modal-next {
      position: absolute; background: white; border:3px solid var(--border); color:var(--primary); border-radius:50%; width:54px; height:54px; font-size:26px; cursor:pointer; box-shadow: 0 8px 30px var(--shadow);
    }
    .modal-close { top:-70px; right:0; transform:translateY(0); }
    .modal-prev { left: -70px; top: 50%; transform: translateY(-50%); }
    .modal-next { right: -70px; top: 50%; transform: translateY(-50%); }

    /* Flowers */
    .flowers-grid { display:grid; grid-template-columns: repeat(2,1fr); gap:20px; margin-top: 18px; }
    .flower-card { border-radius: 22px; padding: 18px; background: var(--card); border: 3px solid var(--border); box-shadow: 0 12px 36px var(--shadow); display:flex; flex-direction:column; gap:12px; align-items:center; }
    .flower-illustration { width:100%; height:220px; display:flex; align-items:center; justify-content:center; }
    .flower-name { font-family:'Caveat',cursive; font-size:1.5rem; color:var(--primary); }
    .speech-bubble { width:100%; background:white; border-radius:16px; border:3px solid var(--border); padding:10px 14px; font-size:0.98rem; color:var(--text); box-shadow: 0 8px 26px var(--shadow); }

    /* Songs */
    .songs-list { display:flex; flex-direction:column; gap:18px; margin-top: 18px; }
    .song-card { display:flex; gap:14px; align-items:center; border-radius:18px; padding:12px; background:var(--card); border:3px solid var(--border); box-shadow:0 10px 30px var(--shadow); }
    .song-cover { width:96px; height:96px; border-radius:16px; object-fit:cover; border:3px solid var(--border); }
    .song-info { flex:1; }
    .song-title { font-family:'Caveat',cursive; font-size:1.2rem; color:var(--primary); margin-bottom:8px; }

    /* Letter */
    .letter-wrapper { margin-top: 20px; display:flex; justify-content:center; }
    .letter-container { max-width:820px; width:100%; background:var(--card); border-radius:22px; padding:34px; border:3px solid var(--border); box-shadow: 0 12px 36px var(--shadow); }
    .letter-text { font-family:'Caveat',cursive; font-size:1.4rem; white-space:pre-wrap; color:var(--text); line-height:1.75; }

    /* Footer */
    .footer { text-align:center; color:var(--text-light); margin-top: 22px; font-size:1rem; }

    /* Responsive */
    @media (max-width: 820px) {
      .menu-grid { grid-template-columns: 1fr; }
      .gallery-grid { grid-template-columns: 1fr 1fr; }
      .flowers-grid { grid-template-columns: 1fr 1fr; }
      .modal-prev, .modal-next { display:none; }
      .modal-close { top:10px; right:10px; }
    }
    @media (max-width:520px) {
      .landing h1 { font-size:2.1rem; }
      .flower-illustration { height:160px; }
      .song-cover { width:76px; height:76px; }
    }
  </style>
</head>
<body>

  <!-- Landing Page -->
  <div id="landing" class="page active landing" aria-live="polite">
    <div class="landing-content">
      <div class="landing-icon" aria-hidden="true">üíù</div>
      <h1>–ü—Ä–∏–≤–µ—Ç, –õ—é–±–∏–º–∞—è!</h1>
      <p class="landing-subtitle">–ù–∞–¥–µ—é—Å—å, —Ç–µ–±–µ –ø–æ–Ω—Ä–∞–≤–∏—Ç—Å—è</p>
      <div class="btn-group">
        <button class="btn btn-primary" onclick="navigate('menu')" aria-label="–î–∞, –∫–æ–Ω–µ—á–Ω–æ">–î–ê, –ö–û–ù–ï–ß–ù–û!</button>
        <button class="btn" onclick="navigate('menu')" aria-label="–ù–µ —Ö–æ—á—É">–ù–ï –•–û–ß–£</button>
      </div>
    </div>
  </div>

  <!-- Menu Page -->
  <div id="menu" class="page" role="region" aria-labelledby="menuTitle">
    <div class="menu-container">
      <div class="menu-wrapper content">
        <h1 id="menuTitle" class="menu-title">–≠–¢–û –î–õ–Ø –¢–ï–ë–Ø!</h1>
        <p class="menu-subtitle">–ù–∞–¥–µ—é—Å—å —Ç–µ–±–µ –ø–æ–Ω—Ä–∞–≤–∏—Ç—Å—è, —è –ª—é–±–ª—é —Ç–µ–±—è</p>
        <div class="menu-grid" role="list">
          <div class="menu-card" role="listitem" onclick="navigate('photos')" tabindex="0" onkeypress="handleKeyPress(event,'photos')">
            <div class="menu-icon" aria-hidden="true">üì∏</div>
            <div class="menu-label">–§–æ—Ç–∫–∏</div>
          </div>
          <div class="menu-card" role="listitem" onclick="navigate('flowers')" tabindex="0" onkeypress="handleKeyPress(event,'flowers')">
            <div class="menu-icon" aria-hidden="true">üå∑</div>
            <div class="menu-label">–¶–≤–µ—Ç—ã</div>
          </div>
          <div class="menu-card" role="listitem" onclick="navigate('songs')" tabindex="0" onkeypress="handleKeyPress(event,'songs')">
            <div class="menu-icon" aria-hidden="true">üéµ</div>
            <div class="menu-label">–ü–µ—Å–Ω—è</div>
          </div>
          <div class="menu-card" role="listitem" onclick="navigate('letter')" tabindex="0" onkeypress="handleKeyPress(event,'letter')">
            <div class="menu-icon" aria-hidden="true">üíå</div>
            <div class="menu-label">–ü–∏—Å—å–º–æ</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Photos Page -->
  <div id="photos" class="page" role="region" aria-labelledby="photosTitle">
    <div class="header">
      <button class="back-btn" onclick="navigate('menu')" aria-label="–ù–∞–∑–∞–¥">‚Üê</button>
      <h2 id="photosTitle">–ù–∞—à–∏ –ú–æ–º–µ–Ω—Ç—ã üì∏</h2>
    </div>
    <div class="content">
      <div class="gallery-grid" id="galleryGrid" aria-live="polite"></div>
    </div>
    <div class="footer">–ù–∞–∂–º–∏ –Ω–∞ —Ñ–æ—Ç–æ, —á—Ç–æ–±—ã —É–≤–µ–ª–∏—á–∏—Ç—å ‚ú®</div>
  </div>

  <!-- Flowers Page -->
  <div id="flowers" class="page" role="region" aria-labelledby="flowersTitle">
    <div class="header">
      <button class="back-btn" onclick="navigate('menu')" aria-label="–ù–∞–∑–∞–¥">‚Üê</button>
      <h2 id="flowersTitle">–¶–≤–µ—Ç—ã –¥–ª—è —Ç–µ–±—è üå∑</h2>
    </div>
    <div class="content">
      <div class="flowers-grid" id="flowersGrid" aria-live="polite"></div>
    </div>
    <div class="footer">–ö–∞–∂–¥—ã–π —Ü–≤–µ—Ç–æ–∫ –≤—ã–±—Ä–∞–Ω —Å –ª—é–±–æ–≤—å—é üíï</div>
  </div>

  <!-- Songs Page -->
  <div id="songs" class="page" role="region" aria-labelledby="songsTitle">
    <div class="header">
      <button class="back-btn" onclick="navigate('menu')" aria-label="–ù–∞–∑–∞–¥">‚Üê</button>
      <h2 id="songsTitle">–ù–∞—à–∞ –ú—É–∑—ã–∫–∞ üéµ</h2>
    </div>
    <div class="content">
      <div class="songs-list" id="songsList" aria-live="polite"></div>
    </div>
    <div class="footer">–ü–µ—Å–Ω–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞—é—Ç –º–Ω–µ –æ —Ç–µ–±–µ üé∂</div>
  </div>

  <!-- Letter Page -->
  <div id="letter" class="page" role="region" aria-labelledby="letterTitle">
    <div class="header">
      <button class="back-btn" onclick="navigate('menu')" aria-label="–ù–∞–∑–∞–¥">‚Üê</button>
      <h2 id="letterTitle">–ü–∏—Å—å–º–æ –¥–ª—è —Ç–µ–±—è üíå</h2>
    </div>
    <div class="content">
      <div class="letter-wrapper">
        <div class="letter-container" role="article">
          <div class="letter-text" id="letterText"></div>
        </div>
      </div>
    </div>
    <div class="footer">–° –ª—é–±–æ–≤—å—é ‚ù§Ô∏è</div>
  </div>

  <!-- Modal / Lightbox -->
  <div id="modal" class="modal" aria-hidden="true" role="dialog" aria-label="–§–æ—Ç–æ –∫—Ä—É–ø–Ω–æ">
    <div class="modal-inner">
      <button class="modal-close" onclick="closeModal()" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
      <button class="modal-prev" onclick="changeImage(-1)" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–µ–µ">‚Äπ</button>
      <img id="modalImg" class="modal-img" src="" alt="–§–æ—Ç–æ –∫—Ä—É–ø–Ω–æ">
      <button class="modal-next" onclick="changeImage(1)" aria-label="–°–ª–µ–¥—É—é—â–µ–µ">‚Ä∫</button>
    </div>
  </div>

  <script>
    /* =========================
       –†–ï–î–ê–ö–¢–ò–†–£–ô –¢–û–õ–¨–ö–û –≠–¢–û–¢ –û–ë–™–ï–ö–¢
       ========================= */
    const CONFIG = {
      photos: [
        // –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Å–≤–æ–∏ –ø—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ (4 —à—Ç—É–∫–∏)
        'https://images.unsplash.com/photo-1518568814500-bf0f8d125f46?w=1200&q=80&auto=format&fit=crop',
        'https://images.unsplash.com/photo-1516589178581-6cd7833ae3b2?w=1200&q=80&auto=format&fit=crop',
        'https://images.unsplash.com/photo-1522673607236-f95e0a3e7df1?w=1200&q=80&auto=format&fit=crop',
        'https://images.unsplash.com/photo-1501594907352-04cda38ebc29?w=1200&q=80&auto=format&fit=crop'
      ],

      // –¶–≤–µ—Ç—ã: –∑–¥–µ—Å—å ‚Äî SVG-–∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–∏ –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫. –≠—Ç–æ –Ω–∞—Ä–∏—Å–æ–≤–∞–Ω–Ω—ã–µ —Ü–≤–µ—Ç—ã (–Ω–µ –ø—Ä–æ—Å—Ç–æ —Ñ–æ—Ç–æ).
      flowersSvg: [
        // –¢—é–ª—å–ø–∞–Ω-–±—É–∫–µ—Ç (—Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π)
        `<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 600 400' preserveAspectRatio='xMidYMid meet' role='img' aria-label='–¢—é–ª—å–ø–∞–Ω—ã'>
          <rect width='100%' height='100%' fill='transparent'/>
          <g transform='translate(300,200)'>
            <path d='M-120 30 Q -60 -60 0 -20 Q 60 -60 120 30 Q 60 110 0 110 Q -60 110 -120 30 Z' fill='#e9dfe0' opacity='0.8'/>
            <g transform='translate(-20,-20)'>
              <g transform='translate(-80,-30)'>
                <path d='M0 40 C 10 -10 40 -10 60 40 C 40 30 20 40 0 40 Z' fill='#c33a3a'/>
                <rect x='26' y='40' width='8' height='80' rx='4' fill='#6aa76a'/>
              </g>
              <g transform='translate(0,-48)'>
                <path d='M0 40 C 10 -10 40 -10 60 40 C 40 30 20 40 0 40 Z' fill='#d95b6b'/>
                <rect x='26' y='40' width='8' height='80' rx='4' fill='#5fa064'/>
              </g>
              <g transform='translate(80,-20)'>
                <path d='M0 40 C 10 -10 40 -10 60 40 C 40 30 20 40 0 40 Z' fill='#c84a55'/>
                <rect x='26' y='40' width='8' height='80' rx='4' fill='#4f8f54'/>
              </g>
            </g>
            <rect x='-70' y='80' width='140' height='60' rx='12' fill='#7b1f2d'/>
            <path d='M-70 80 Q 0 140 70 80' fill='#a53745'/>
            <text x='0' y='150' text-anchor='middle' font-family='Caveat, cursive' font-size='28' fill='#fff'>TULIPS</text>
          </g>
        </svg>`,

        // –†–æ–∑–∞ (—Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è)
        `<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 600 400' preserveAspectRatio='xMidYMid meet' role='img' aria-label='–†–æ–∑–∞'>
          <rect width='100%' height='100%' fill='transparent'/>
          <g transform='translate(300,200)'>
            <circle cx='0' cy='0' r='70' fill='#f7c6d1'/>
            <path d='M-10 -10 C -40 -40 -20 -70 20 -60 C 60 -50 50 -10 10 10 C -10 20 -30 10 -10 -10 Z' fill='#c33a3a'/>
            <ellipse cx='-10' cy='40' rx='10' ry='56' fill='#7aa669' transform='rotate(-12)'/>
            <ellipse cx='20' cy='46' rx='10' ry='56' fill='#63a05b' transform='rotate(14)'/>
            <rect x='-20' y='80' width='40' height='36' fill='#8b2a3d' rx='10'/>
            <text x='0' y='140' text-anchor='middle' font-family='Caveat, cursive' font-size='24' fill='#c33a3a'>ROSE</text>
          </g>
        </svg>`,

        // –ü–æ–¥—Å–æ–ª–Ω—É—Ö (—Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π)
        `<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 600 400' preserveAspectRatio='xMidYMid meet' role='img' aria-label='–ü–æ–¥—Å–æ–ª–Ω—É—Ö'>
          <rect width='100%' height='100%' fill='transparent'/>
          <g transform='translate(300,200)'>
            <circle cx='0' cy='0' r='58' fill='#5a3b22'/>
            <g>
              <!-- petals -->
              ${Array.from({length:12}).map((_,i)=>`<ellipse transform='rotate(${i*30})' cx='110' cy='0' rx='40' ry='90' fill='#ffd05b' />`).join('')}
            </g>
            <rect x='-8' y='70' width='16' height='100' rx='8' fill='#3f7a3e'/>
            <text x='0' y='190' text-anchor='middle' font-family='Caveat, cursive' font-size='24' fill='#c06612'>SUNFLOWER</text>
          </g>
        </svg>`,

        // –ü–∏–æ–Ω (—Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π)
        `<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 600 400' preserveAspectRatio='xMidYMid meet' role='img' aria-label='–ü–∏–æ–Ω'>
          <rect width='100%' height='100%' fill='transparent'/>
          <g transform='translate(300,200)'>
            <path d='M0 -70 C 40 -90 90 -60 80 -20 C 110 -10 120 30 70 40 C 60 60 10 70 -20 55 C -40 70 -80 55 -80 30 C -120 40 -120 0 -90 -10 C -110 -40 -80 -90 -20 -85 C 0 -95 10 -80 0 -70 Z' fill='#f6b6c3'/>
            <rect x='-10' y='60' width='20' height='96' rx='8' fill='#5b9b66'/>
            <text x='0' y='170' text-anchor='middle' font-family='Caveat, cursive' font-size='22' fill='#b53a5d'>PEONY</text>
          </g>
        </svg>`
      ],

      // –ö–æ—Ä–æ—Ç–∫–∏–µ –ø–æ–¥–ø–∏—Å–∏/—Ñ—Ä–∞–∑—ã –¥–ª—è —Ü–≤–µ—Ç–∫–∞ (–≤ —Å—Ç–∏–ª–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ ‚Äî –æ–±–ª–∞—á–∫–∞ —Ä—è–¥–æ–º —Å –∫–∞—Ä—Ç–∏–Ω–∫–æ–π)
      flowersNotes: [
        ['–¢—ã —Ä–∞—Å—Ü–≤–µ—Ç–∞–µ—à—å –∫–∞–∫ —Ç—é–ª—å–ø–∞–Ω', '–¢–≤–æ—è —É–ª—ã–±–∫–∞ ‚Äî –∫–∞–∫ –≤–µ—Å–µ–Ω–Ω–µ–µ —Å–æ–ª–Ω—Ü–µ'],
        ['–ù–µ–∂–Ω–æ—Å—Ç—å, –∫–∞–∫ —É –ª–µ–ø–µ—Å—Ç–∫–æ–≤ —Ä–æ–∑—ã', '–¢—ã –∫—Ä–∞—Å–∏–≤–∞ –≤ —Å–≤–æ–µ–π –ø—Ä–æ—Å—Ç–æ—Ç–µ'],
        ['–¢—ã —Å–æ–ª–Ω–µ—á–Ω—ã–π —Å–º–µ—Ö', '–¢—ã –¥–∞—Ä–∏—à—å —Ç–µ–ø–ª–æ –≤–æ–∫—Ä—É–≥'],
        ['–¢–≤–æ—è –º—è–≥–∫–æ—Å—Ç—å ‚Äî –∫–∞–∫ –ø–∏–æ–Ω', '–¢—ã –¥–µ–ª–∞–µ—à—å –º–∏—Ä —è—Ä—á–µ']
      ],

      songs: [
        // –í—Å—Ç–∞–≤—å –ø—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ MP3 –≤ –ø–æ–ª–µ src –∏–ª–∏ –æ—Å—Ç–∞–≤—å –ø—É—Å—Ç—ã–º (–±—É–¥–µ—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∞)
        { title: '–ù–∞—à–∞ –ø–µ—Ä–≤–∞—è –ø–µ—Å–Ω—è', src: '', cover: 'https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=200&q=80&auto=format&fit=crop' },
        { title: '–¢–∞ —Å–∞–º–∞—è –º–µ–ª–æ–¥–∏—è', src: '', cover: 'https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=200&q=80&auto=format&fit=crop' },
        { title: '–ù–∞—à —Ç–∞–Ω–µ—Ü', src: '', cover: 'https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=200&q=80&auto=format&fit=crop' },
        { title: '–ü–µ—Å–Ω—è –¥–ª—è —Ç–µ–±—è', src: '', cover: 'https://images.unsplash.com/photo-1487180144351-b8472da7d491?w=200&q=80&auto=format&fit=crop' }
      ],

      letter: `–ú–æ—è –ª—é–±–∏–º–∞—è,

–ö–∞–∂–¥—ã–π –¥–µ–Ω—å —Å —Ç–æ–±–æ–π ‚Äî —ç—Ç–æ –ø–æ–¥–∞—Ä–æ–∫.
–¢—ã –¥–µ–ª–∞–µ—à—å –º–æ—é –∂–∏–∑–Ω—å —è—Ä—á–µ, —Ç–µ–ø–ª–µ–µ –∏ —Å—á–∞—Å—Ç–ª–∏–≤–µ–µ.

–°–ø–∞—Å–∏–±–æ –∑–∞ –≤—Å–µ –Ω–∞—à–∏ –º–æ–º–µ–Ω—Ç—ã –≤–º–µ—Å—Ç–µ,
–∑–∞ —Ç–≤–æ—é —É–ª—ã–±–∫—É, —Å–º–µ—Ö –∏ –ª—é–±–æ–≤—å.

–Ø —Å–æ–∑–¥–∞–ª —ç—Ç–æ—Ç —Å–∞–π—Ç, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å,
–∫–∞–∫ –º–Ω–æ–≥–æ —Ç—ã –∑–Ω–∞—á–∏—à—å –¥–ª—è –º–µ–Ω—è.

–õ—é–±–ª—é —Ç–µ–±—è –≤—Å–µ–º —Å–µ—Ä–¥—Ü–µ–º ‚ù§Ô∏è

–¢–≤–æ–π –Ω–∞–≤—Å–µ–≥–¥–∞`
    };

    /* =========================
       –õ–û–ì–ò–ö–ê –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø
       ========================= */

    // State
    let currentImageIndex = 0;
    let modalOpen = false;

    function navigate(pageId) {
      // Pause any playing audio
      document.querySelectorAll('audio').forEach(a => { try { a.pause(); a.currentTime = 0; } catch(e){} });
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      const target = document.getElementById(pageId);
      if (!target) return;
      target.classList.add('active');

      // set focus for accessibility
      setTimeout(() => {
        const focusable = target.querySelector('button, [tabindex], a, input, textarea');
        if (focusable) focusable.focus();
      }, 250);
      // build dynamic content if needed
      if (pageId === 'photos') buildGallery();
      if (pageId === 'flowers') buildFlowers();
      if (pageId === 'songs') buildSongs();
      if (pageId === 'letter') buildLetter();
    }

    function handleKeyPress(e, page) {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        navigate(page);
      }
    }

    /* GALLERY */
    function buildGallery() {
      const grid = document.getElementById('galleryGrid');
      grid.innerHTML = '';
      CONFIG.photos.forEach((src, i) => {
        const div = document.createElement('div');
        div.className = 'gallery-item';
        div.setAttribute('role','button');
        div.setAttribute('aria-label', `–û—Ç–∫—Ä—ã—Ç—å —Ñ–æ—Ç–æ ${i+1}`);
        const img = document.createElement('img');
        img.src = src;
        img.alt = `–§–æ—Ç–æ ${i+1}`;
        div.appendChild(img);
        div.addEventListener('click', () => { openModal(i); });
        div.addEventListener('keypress', (e) => { if(e.key === 'Enter') openModal(i); });
        grid.appendChild(div);
      });
    }

    /* MODAL */
    function openModal(index = 0) {
      if (!CONFIG.photos || CONFIG.photos.length === 0) return;
      currentImageIndex = index;
      const modal = document.getElementById('modal');
      const img = document.getElementById('modalImg');
      img.src = CONFIG.photos[currentImageIndex];
      img.alt = `–§–æ—Ç–æ ${currentImageIndex+1}`;
      modal.classList.add('active');
      modalOpen = true;
      modal.setAttribute('aria-hidden', 'false');
      // trap keyboard
      document.addEventListener('keydown', modalKeys);
    }

    function closeModal() {
      const modal = document.getElementById('modal');
      modal.classList.remove('active');
      modalOpen = false;
      modal.setAttribute('aria-hidden', 'true');
      const img = document.getElementById('modalImg');
      img.src = '';
      document.removeEventListener('keydown', modalKeys);
    }

    function changeImage(delta) {
      if (!CONFIG.photos || CONFIG.photos.length === 0) return;
      currentImageIndex = (currentImageIndex + delta + CONFIG.photos.length) % CONFIG.photos.length;
      const img = document.getElementById('modalImg');
      img.src = CONFIG.photos[currentImageIndex];
      img.alt = `–§–æ—Ç–æ ${currentImageIndex+1}`;
    }

    function modalKeys(e) {
      if (!modalOpen) return;
      if (e.key === 'Escape') closeModal();
      if (e.key === 'ArrowLeft') changeImage(-1);
      if (e.key === 'ArrowRight') changeImage(1);
    }

    /* FLOWERS: render SVGs and speech bubbles similar to screenshot */
    function buildFlowers() {
      const grid = document.getElementById('flowersGrid');
      grid.innerHTML = '';
      CONFIG.flowersSvg.forEach((svgString, i) => {
        const card = document.createElement('div');
        card.className = 'flower-card';
        // illustration
        const ill = document.createElement('div');
        ill.className = 'flower-illustration';
        // set innerHTML to svg string (safe as it's from config)
        ill.innerHTML = svgString;
        card.appendChild(ill);
        // name
        const name = document.createElement('div');
        name.className = 'flower-name';
        const label = CONFIG.flowersSvg[i] ? (CONFIG.flowersSvg[i].includes('TULIPS') ? '–¢—é–ª—å–ø–∞–Ω—ã' : (CONFIG.flowersSvg[i].includes('ROSE') ? '–†–æ–∑—ã' : (CONFIG.flowersSvg[i].includes('SUNFLOWER') ? '–ü–æ–¥—Å–æ–ª–Ω—É—Ö–∏' : '–ü–∏–æ–Ω—ã'))) : (CONFIG.flowersNames && CONFIG.flowersNames[i]) || CONFIG.flowersNotes[i][0];
        name.textContent = label;
        card.appendChild(name);

        // speech bubble area - show two short compliments around, like in photo
        const note1 = document.createElement('div');
        note1.className = 'speech-bubble';
        note1.textContent = CONFIG.flowersNotes[i] && CONFIG.flowersNotes[i][0] ? CONFIG.flowersNotes[i][0] : '';
        card.appendChild(note1);

        const note2 = document.createElement('div');
        note2.className = 'speech-bubble';
        note2.textContent = CONFIG.flowersNotes[i] && CONFIG.flowersNotes[i][1] ? CONFIG.flowersNotes[i][1] : '';
        card.appendChild(note2);

        grid.appendChild(card);
      });
    }

    /* SONGS */
    function buildSongs() {
      const list = document.getElementById('songsList');
      list.innerHTML = '';
      if (!CONFIG.songs || CONFIG.songs.length === 0) {
        list.innerHTML = '<div class="song-card"><div class="song-info">–ó–¥–µ—Å—å –ø–æ–∫–∞ –Ω–µ—Ç –ø–µ—Å–µ–Ω. –î–æ–±–∞–≤—å —Å—Å—ã–ª–∫–∏ –≤ CONFIG.songs.src</div></div>';
        return;
      }
      CONFIG.songs.forEach((s, idx) => {
        const card = document.createElement('div');
        card.className = 'song-card';
        const cover = document.createElement('img');
        cover.className = 'song-cover';
        cover.src = s.cover || 'https://via.placeholder.com/200x200.png?text=‚ô™';
        cover.alt = `–û–±–ª–æ–∂–∫–∞ ${s.title}`;
        card.appendChild(cover);

        const info = document.createElement('div');
        info.className = 'song-info';
        const title = document.createElement('div');
        title.className = 'song-title';
        title.textContent = s.title || `–ü–µ—Å–Ω—è ${idx+1}`;
        info.appendChild(title);

        if (s.src && s.src.trim().length > 0) {
          const audio = document.createElement('audio');
          audio.controls = true;
          const source = document.createElement('source');
          source.src = s.src;
          source.type = 'audio/mpeg';
          audio.appendChild(source);
          info.appendChild(audio);
        } else {
          const hint = document.createElement('div');
          hint.style.color = 'var(--text-light)';
          hint.style.fontSize = '0.95rem';
          hint.textContent = '–î–æ–±–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ MP3 –≤ CONFIG.songs.src —á—Ç–æ–±—ã –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∑–¥–µ—Å—å.';
          info.appendChild(hint);
        }

        card.appendChild(info);
        list.appendChild(card);
      });
    }

    /* LETTER */
    function buildLetter() {
      const el = document.getElementById('letterText');
      el.textContent = CONFIG.letter || '';
    }

    /* INITIALIZE */
    (function init() {
      // Prebuild menu content for quickness
      buildGallery();
      buildFlowers();
      buildSongs();
      buildLetter();

      // Navigation shortcuts
      document.addEventListener('keydown', (e) => {
        if (e.key === '1') navigate('menu');
        if (e.key === '2') navigate('photos');
        if (e.key === '3') navigate('flowers');
        if (e.key === '4') navigate('songs');
        if (e.key === '5') navigate('letter');
      });

      // Clicking outside modal closes it
      document.getElementById('modal').addEventListener('click', (e) => {
        if (e.target.id === 'modal') closeModal();
      });

      // Accessibility: focus first interactive element on load
      setTimeout(() => {
        const btn = document.querySelector('.btn');
        if (btn) btn.focus();
      }, 400);
    })();

    // Small helper: if user opens site on mobile, ensure modals can't overflow
    window.addEventListener('resize', () => {
      // nothing heavy here but reserved for future tweaks
    });
  </script>

  <!-- –ü–æ–¥—Å–∫–∞–∑–∫–∞ –ø–æ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:
       - –°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π –ø—É—Ç—å: Netlify Drop (https://drop.netlify.app) ‚Äî –ø–µ—Ä–µ—Ç–∞—â–∏ index.html –∏ –ø–æ–ª—É—á–∏—à—å —Å—Å—ã–ª–∫—É.
       - GitHub Pages: —Å–æ–∑–¥–∞–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –∑–∞–ª–µ–π index.html –≤ –∫–æ—Ä–µ–Ω—å –∏ –≤–∫–ª—é—á–∏ Pages.
       - Replit: —Å–æ–∑–¥–∞–π Repl (HTML/CSS/JS), –≤—Å—Ç–∞–≤—å —Ñ–∞–π–ª, Run –∏ –ø–æ–¥–µ–ª–∏—Å—å —Å—Å—ã–ª–∫–æ–π.
  -->
</body>
</html>
